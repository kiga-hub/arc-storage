# 数据访问接口

## 接口整体设计

通讯协议采用 HTTP 1.1，服务的根路径为`/api`

### 公共请求消息头

获取数据信息接口及下载传感器数据接口的公共头域。

| 消息头（Header） | 是否必须 | 说明                            |
| ---------------- | -------- | -------------------------------|
| Content-Type     | 可选     | application/json; charset=utf-8 |

上传传感器数据接口头域

| 消息头（Header） | 是否必须 | 说明                            |
| ---------------- | -------- | -------------------------------|
| Content-Type     | 可选     | multipart/form-data; charset=utf-8 |


### 公共响应消息头

下表列出了所有声纹数据库接口的公共响应头域。HTTP 协议的标准响应头域不再这里列出。

| 消息头（Header） | 说明                                              |
| ---------------- | -------------------------------------------------|
| Content-Type     | 只支持 JSON 格式，application/json; charset=utf-8 |

### 公共响应状态码

| 代码 | 含义         |
| ---- | ------------ |
| 200  | 请求成功     |
| 201  | 创建成功     |
| 400  | 请求参数错误 |
| 401  | 未授权       |
| 403  | 请求被拒绝   |
| 404  | 资源未找到   |
| 500  | 服务内部异常 |

### 响应数据格式

数据响应统一为如下格式。其中错误码取值来源公共内部状态码和各方法的专有内部状态码。

后续各接口只分别列出请求结果结构和专有内部状态码。

| 参数名 | 类型   | 说明           |
| ------ | ------ | -------------- |
| code   | number | 内部状态码     |
| msg    | string | 错误编码及描述 |
| data   | Object | 本次请求的结果 |

### 公共内部状态码 TODO  

| 内部状态码 | 描述                                        |
| ---------- | ------------------------------------------- |
| 0          | 请求成功，结果保存在 data 字段中            |
| >0         | 错误编码，有错误发生，错误详情在 msg 字段中 |

